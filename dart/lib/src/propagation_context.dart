import 'package:meta/meta.dart';

import '../sentry.dart';

@internal
class PropagationContext {
  /// Either represents the incoming `traceId` or the `traceId` generated by the current SDK, if there was no incoming trace.
  SentryId traceId = SentryId.newId();

  /// Represents the sampling decision of the trace.
  bool? sampled;

  /// The dynamic sampling context.
  SentryBaggage? baggage;

  /// Baggage header to attach to http headers.
  SentryBaggageHeader? toBaggageHeader() =>
      baggage != null ? SentryBaggageHeader.fromBaggage(baggage!) : null;

  /// Sentry trace header to attach to http headers.
  SentryTraceHeader toSentryTrace() =>
      generateSentryTraceHeader(traceId: traceId);
}
